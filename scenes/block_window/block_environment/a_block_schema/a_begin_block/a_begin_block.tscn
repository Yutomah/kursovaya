[gd_scene load_steps=10 format=3 uid="uid://cyjgfn2m8cog1"]

[ext_resource type="PackedScene" uid="uid://cmgbms3pjuitq" path="res://scenes/block_window/block_environment/a_block_schema/a_block/a_block.tscn" id="1_rgtqp"]
[ext_resource type="Script" path="res://scenes/block_window/block_environment/a_block_schema/a_begin_block/a_begin_block.gd" id="2_h7bru"]
[ext_resource type="Texture2D" uid="uid://b41i8iswribph" path="res://Sprites/block_sprites/1x/Asset 11.png" id="3_jktm0"]
[ext_resource type="PackedScene" uid="uid://cai755nf0acib" path="res://scenes/block_window/spawn_block_button/spawn_block_button.tscn" id="4_1nkcu"]
[ext_resource type="PackedScene" uid="uid://dsg1n6q26m5g2" path="res://scenes/block_window/arrow_marker/arrow_marker.tscn" id="4_cdbyc"]
[ext_resource type="Script" path="res://scenes/block_window/block_environment/a_block_schema/a_begin_block/name_line_edit.gd" id="6_2vc8x"]
[ext_resource type="Script" path="res://scenes/block_window/block_environment/a_block_schema/a_begin_block/color_picker_button.gd" id="7_o0u74"]
[ext_resource type="Script" path="res://scenes/block_window/block_environment/a_block_schema/a_begin_block/on_off_check_box.gd" id="8_0a0oa"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_kajr8"]
bg_color = Color(0.6, 0.6, 0.6, 0)
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)

[node name="ABeginBlock" instance=ExtResource("1_rgtqp")]
script = ExtResource("2_h7bru")

[node name="Background" parent="Body" index="0"]
offset_left = -151.0
offset_top = -91.0
offset_right = 151.0
offset_bottom = 91.0
texture_normal = ExtResource("3_jktm0")

[node name="LineConnections" type="Node2D" parent="Body/Content" index="0"]

[node name="Exit" parent="Body/Content/LineConnections" index="0" instance=ExtResource("4_cdbyc")]
unique_name_in_owner = true
position = Vector2(0, 91)

[node name="SpawnBlockButton" parent="Body/Content" index="1" instance=ExtResource("4_1nkcu")]
unique_name_in_owner = true
layout_mode = 0
offset_left = 7.0
offset_top = 88.0
offset_right = 32.0
offset_bottom = 138.0

[node name="TextureRect" parent="Body/Content/HBoxContainer/HBoxContainer" index="1"]
tooltip_text = "Это начальный блок.
В нём можно настраивать характеристики всей блок схемы. 
Он является местом начала выполнения программы.

Правая кнопка мыши - открыть меню
Два раза левой кнопкой мыши - выделить блок

В меню можно настроить:
1. Цвет линии - цвет линии, которой эта блок-схема будет рисовать 
и которой будет обводить сообщения в логе
2. Имя - используется в блоке функции, для выбора функции
3. Выключить блок-схему - эта блок-схема не будет запускаться при отрисовке поля
4. Удалить блок-схему - удаляет эту блок-схему"

[node name="HBoxContainer2" type="HBoxContainer" parent="Body/Content/HBoxContainer" index="1"]
layout_mode = 2
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="Body/Content/HBoxContainer/HBoxContainer2" index="0"]
unique_name_in_owner = true
custom_minimum_size = Vector2(25, 25)
layout_mode = 2
mouse_filter = 2

[node name="NameLabel" type="Label" parent="Body/Content/HBoxContainer/HBoxContainer2" index="1"]
unique_name_in_owner = true
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_styles/normal = SubResource("StyleBoxFlat_kajr8")

[node name="OnOffLabel" type="Label" parent="Body/Content/HBoxContainer/HBoxContainer2" index="2"]
unique_name_in_owner = true
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)

[node name="PopupPanel" parent="Body/Content" index="3"]
size = Vector2i(246, 149)

[node name="MarginContainer" parent="Body/Content/PopupPanel" index="1"]
offset_right = 246.0
offset_bottom = 149.0

[node name="NameContainer" type="HBoxContainer" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer" index="0"]
layout_mode = 2

[node name="NameLabel" type="Label" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/NameContainer" index="0"]
layout_mode = 2
text = "Имя"

[node name="NameLineEdit" type="LineEdit" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/NameContainer" index="1" node_paths=PackedStringArray("a_begin_block")]
layout_mode = 2
size_flags_horizontal = 3
text = "блок-схема 1"
max_length = 25
script = ExtResource("6_2vc8x")
a_begin_block = NodePath("../../../../../../..")

[node name="ColorContainer" type="HBoxContainer" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer" index="1"]
layout_mode = 2

[node name="ColorLabel" type="Label" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/ColorContainer" index="0"]
layout_mode = 2
text = "Цвет линии"

[node name="ColorPickerButton" type="ColorPickerButton" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/ColorContainer" index="1"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
color = Color(0.52549, 0, 0, 1)
edit_alpha = false
script = ExtResource("7_o0u74")

[node name="OnOffContainer" type="HBoxContainer" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer" index="2"]
layout_mode = 2

[node name="OnOffLabel" type="Label" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/OnOffContainer" index="0"]
layout_mode = 2
text = "Выключить блок-схему"

[node name="OnOffCheckBox" type="CheckBox" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer/OnOffContainer" index="1"]
unique_name_in_owner = true
layout_mode = 2
script = ExtResource("8_0a0oa")

[node name="DeleteButton" parent="Body/Content/PopupPanel/MarginContainer/VBoxContainer" index="3"]
text = "Удалить блок-схему"

[connection signal="text_changed" from="Body/Content/PopupPanel/MarginContainer/VBoxContainer/NameContainer/NameLineEdit" to="Body/Content/PopupPanel/MarginContainer/VBoxContainer/NameContainer/NameLineEdit" method="_on_text_changed"]
[connection signal="color_changed" from="Body/Content/PopupPanel/MarginContainer/VBoxContainer/ColorContainer/ColorPickerButton" to="Body/Content/PopupPanel/MarginContainer/VBoxContainer/ColorContainer/ColorPickerButton" method="_on_color_changed"]
[connection signal="toggled" from="Body/Content/PopupPanel/MarginContainer/VBoxContainer/OnOffContainer/OnOffCheckBox" to="Body/Content/PopupPanel/MarginContainer/VBoxContainer/OnOffContainer/OnOffCheckBox" method="_on_toggled"]
